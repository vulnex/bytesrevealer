/**
 * Kaitai Formats - Games
 * 17 formats
 * Auto-generated: 2025-09-21T19:51:05.640Z
 */

export const gamesFormats = [
  {
    "id": "ksy_allegro_dat",
    "name": "Allegro data file",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "dat"
      ],
      "description": "Allegro data file",
      "originalCategory": "game",
      "filePath": "game/allegro_dat.ksy",
      "signature": {
        "offset": 0,
        "bytes": [
          65,
          76,
          76,
          46
        ]
      },
      "endian": "be"
    },
    "content": "meta:\n  id: allegro_dat\n  title: Allegro data file\n  application: Allegro library (v2.2-v4.4)\n  file-extension: dat\n  xref:\n    justsolve: Allegro_packfile\n  license: CC0-1.0\n  encoding: UTF-8\n  endian: be\ndoc: |\n  Allegro library for C (mostly used for game and multimedia apps\n  programming) used its own container file format.\n\n  In general, it allows storage of arbitrary binary data blocks\n  bundled together with some simple key-value style metadata\n  (\"properties\") for every block. Allegro also pre-defines some simple\n  formats for bitmaps, fonts, MIDI music, sound samples and\n  palettes. Allegro library v4.0+ also support LZSS compression.\n\n  This spec applies to Allegro data files for library versions 2.2 up\n  to 4.4.\ndoc-ref: https://liballeg.org/stabledocs/en/datafile.html\nseq:\n  - id: pack_magic\n    type: u4\n    enum: pack_enum\n  - id: dat_magic\n    contents: ALL.\n  - id: num_objects\n    type: u4\n  - id: objects\n    type: dat_object\n    repeat: expr\n    repeat-expr: num_objects\ntypes:\n  dat_object:\n    seq:\n      - id: properties\n        type: property\n        repeat: until\n        repeat-until: 'not _.is_valid'\n      - id: len_compressed\n        type: s4\n      - id: len_uncompressed\n        type: s4\n      - id: body\n        size: len_compressed\n        type:\n          switch-on: type\n          cases:\n            '\"BMP \"': dat_bitmap\n            '\"RLE \"': dat_rle_sprite\n            '\"FONT\"': dat_font\n    instances:\n      type:\n        value: properties.last.magic\n  property:\n    seq:\n      - id: magic\n        size: 4\n        type: str\n      - id: type\n        size: 4\n        type: str\n        if: is_valid\n      - id: len_body\n        type: u4\n        if: is_valid\n      - id: body\n        size: len_body\n        type: str\n        if: is_valid\n    instances:\n      is_valid:\n        value: 'magic == \"prop\"'\n  dat_bitmap:\n    seq:\n      - id: bits_per_pixel\n        type: s2\n      - id: width\n        type: u2\n      - id: height\n        type: u2\n      - id: image\n        size-eos: true\n  dat_rle_sprite:\n    seq:\n      - id: bits_per_pixel\n        type: s2\n      - id: width\n        type: u2\n      - id: height\n        type: u2\n      - id: len_image\n        type: u4\n      - id: image\n        size-eos: true\n  dat_font:\n    seq:\n      - id: font_size\n        type: s2\n      - id: body\n        type:\n          switch-on: font_size\n          cases:\n            8: dat_font_8\n            16: dat_font_16\n#            -1: dat_font_proportional\n            0: dat_font_3_9\n  dat_font_8:\n    doc: |\n      Simple monochrome monospaced font, 95 characters, 8x8 px\n      characters.\n    seq:\n      - id: chars\n        size: 8\n        repeat: expr\n        repeat-expr: 95\n  dat_font_16:\n    doc: |\n      Simple monochrome monospaced font, 95 characters, 8x16 px\n      characters.\n    seq:\n      - id: chars\n        size: 16\n        repeat: expr\n        repeat-expr: 95\n  dat_font_3_9:\n    doc: |\n      New bitmap font format introduced since Allegro 3.9: allows\n      flexible designation of character ranges, 8-bit colored\n      characters, etc.\n    seq:\n      - id: num_ranges\n        type: s2\n      - id: ranges\n        type: range\n        repeat: expr\n        repeat-expr: num_ranges\n    types:\n      range:\n        seq:\n          - id: mono\n            type: u1\n          - id: start_char\n            type: u4\n            doc: First character in range\n          - id: end_char\n            type: u4\n            doc: Last character in range (inclusive)\n          - id: chars\n            type: font_char\n            repeat: expr\n            repeat-expr: end_char - start_char + 1\n      font_char:\n        seq:\n          - id: width\n            type: u2\n          - id: height\n            type: u2\n          - id: body\n            size: width * height\nenums:\n  pack_enum:\n    0x736c682e: unpacked\n"
  },
  {
    "id": "ksy_doom_wad",
    "name": "Doom Wad",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "wad"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/doom_wad.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: doom_wad\n  application: id Tech 1\n  file-extension: wad\n  xref:\n    justsolve: Doom_WAD\n    mime: application/x-doom\n    wikidata: Q1936828\n  license: CC0-1.0\n  endian: le\nseq:\n  - id: magic\n    type: str\n    size: 4\n    encoding: ASCII\n  - id: num_index_entries\n    type: s4\n    doc: Number of entries in the lump index\n  - id: index_offset\n    type: s4\n    doc: Offset to the start of the index\ntypes:\n  index_entry:\n    seq:\n      - id: offset\n        type: s4\n      - id: size\n        type: s4\n      - id: name\n        type: str\n        size: 8\n        encoding: ASCII\n        pad-right: 0\n    instances:\n      contents:\n        io: _root._io\n        pos: offset\n        size: size\n        type:\n          switch-on: name\n          cases:\n            '\"THINGS\"': things\n            '\"LINEDEFS\"': linedefs\n            '\"SIDEDEFS\"': sidedefs\n            '\"VERTEXES\"': vertexes\n            '\"BLOCKMAP\"': blockmap\n            '\"SECTORS\"': sectors\n            '\"TEXTURE1\"': texture12\n            '\"TEXTURE2\"': texture12\n            '\"PNAMES\"': pnames\n  things:\n    seq:\n      - id: entries\n        type: thing\n        repeat: eos\n  thing:\n    seq:\n      - id: x\n        type: s2\n      - id: y\n        type: s2\n      - id: angle\n        type: u2\n      - id: type\n        type: u2\n      - id: flags\n        type: u2\n  linedefs:\n    seq:\n      - id: entries\n        type: linedef\n        repeat: eos\n  linedef:\n    seq:\n      - id: vertex_start_idx\n        type: u2\n      - id: vertex_end_idx\n        type: u2\n      - id: flags\n        type: u2\n      - id: line_type\n        type: u2\n      - id: sector_tag\n        type: u2\n      - id: sidedef_right_idx\n        type: u2\n      - id: sidedef_left_idx\n        type: u2\n  sidedefs:\n    seq:\n      - id: entries\n        type: sidedef\n        repeat: eos\n  sidedef:\n    seq:\n      - id: offset_x\n        type: s2\n      - id: offset_y\n        type: s2\n      - id: upper_texture_name\n        type: str\n        size: 8\n        encoding: ASCII\n      - id: lower_texture_name\n        type: str\n        size: 8\n        encoding: ASCII\n      - id: normal_texture_name\n        type: str\n        size: 8\n        encoding: ASCII\n      - id: sector_id\n        type: s2\n  vertexes:\n    seq:\n      - id: entries\n        type: vertex\n        repeat: eos\n  vertex:\n    seq:\n      - id: x\n        type: s2\n      - id: y\n        type: s2\n  blockmap:\n    seq:\n      - id: origin_x\n        type: s2\n        doc: Grid origin, X coord\n      - id: origin_y\n        type: s2\n        doc: Grid origin, Y coord\n      - id: num_cols\n        type: s2\n        doc: Number of columns\n      - id: num_rows\n        type: s2\n        doc: Number of rows\n      - id: linedefs_in_block\n        type: blocklist\n        repeat: expr\n        repeat-expr: num_cols * num_rows\n        doc: Lists of linedefs for every block\n    types:\n      blocklist:\n        seq:\n          - id: offset\n            type: u2\n            doc: Offset to the list of linedefs\n        instances:\n          linedefs:\n            pos: offset * 2\n            type: s2\n            repeat: until\n            repeat-until: _ == -1\n            doc: List of linedefs found in this block\n  sectors:\n    seq:\n      - id: entries\n        type: sector\n        repeat: eos\n  sector:\n    seq:\n      - id: floor_z\n        type: s2\n      - id: ceil_z\n        type: s2\n      - id: floor_flat\n        type: str\n        size: 8\n        encoding: ASCII\n      - id: ceil_flat\n        type: str\n        size: 8\n        encoding: ASCII\n      - id: light\n        type: s2\n        doc: |\n          Light level of the sector [0..255]. Original engine uses\n          COLORMAP to render lighting, so only 32 actual levels are\n          available (i.e. 0..7, 8..15, etc).\n      - id: special_type\n        type: u2\n        enum: special_sector\n      - id: tag\n        type: u2\n        doc: |\n          Tag number. When the linedef with the same tag number is\n          activated, some effect will be triggered in this sector.\n    enums:\n      special_sector:\n        0: normal\n        1: d_light_flicker\n        2: d_light_strobe_fast\n        3: d_light_strobe_slow\n        4: d_light_strobe_hurt\n        5: d_damage_hellslime\n        7: d_damage_nukage\n        8: d_light_glow\n        9: secret\n        10: d_sector_door_close_in_30\n        11: d_damage_end\n        12: d_light_strobe_slow_sync\n        13: d_light_strobe_fast_sync\n        14: d_sector_door_raise_in_5_mins\n        15: d_friction_low\n        16: d_damage_super_hellslime\n        17: d_light_fire_flicker\n        18: d_damage_lava_wimpy\n        19: d_damage_lava_hefty\n        20: d_scroll_east_lava_damage\n        21: light_phased\n        22: light_sequence_start\n        23: light_sequence_special1\n        24: light_sequence_special2\n  texture12:\n    doc: |\n      Used for TEXTURE1 and TEXTURE2 lumps, which designate how to\n      combine wall patches to make wall textures. This essentially\n      provides a very simple form of image compression, allowing\n      certain elements (\"patches\") to be reused / recombined on\n      different textures for more variety in the game.\n    doc-ref: https://doom.fandom.com/wiki/TEXTURE1_and_TEXTURE2\n    seq:\n      - id: num_textures\n        type: s4\n        doc: Number of wall textures\n      - id: textures\n        type: texture_index\n        repeat: expr\n        repeat-expr: num_textures\n    types:\n      texture_index:\n        seq:\n          - id: offset\n            type: s4\n        instances:\n          body:\n            pos: offset\n            type: texture_body\n      texture_body:\n        -orig-id: maptexture_t\n        seq:\n          - id: name\n            type: str\n            size: 8\n            pad-right: 0\n            encoding: ASCII\n            doc: Name of a texture, only `A-Z`, `0-9`, `[]_-` are valid\n          - id: masked\n            type: u4\n          - id: width\n            type: u2\n          - id: height\n            type: u2\n          - id: column_directory\n            type: u4\n            doc: Obsolete, ignored by all DOOM versions\n          - id: num_patches\n            type: u2\n            doc: Number of patches that are used in a texture\n          - id: patches\n            type: patch\n            repeat: expr\n            repeat-expr: num_patches\n      patch:\n        -orig-id: mappatch_t\n        seq:\n          - id: origin_x\n            type: s2\n            doc: X offset to draw a patch at (pixels from left boundary of a texture)\n          - id: origin_y\n            type: s2\n            doc: Y offset to draw a patch at (pixels from upper boundary of a texture)\n          - id: patch_id\n            type: u2\n            doc: Identifier of a patch (as listed in PNAMES lump) to draw\n          - id: step_dir\n            type: u2\n          - id: colormap\n            type: u2\n  pnames:\n    doc-ref: https://doom.fandom.com/wiki/PNAMES\n    seq:\n      - id: num_patches\n        type: u4\n        doc: Number of patches registered in this global game directory\n      - id: names\n        type: str\n        size: 8\n        encoding: ASCII\n        pad-right: 0\n        repeat: expr\n        repeat-expr: num_patches\ninstances:\n  index:\n    pos: index_offset\n    type: index_entry\n    repeat: expr\n    repeat-expr: num_index_entries\n"
  },
  {
    "id": "ksy_dune_2_pak",
    "name": "Dune 2 Pak",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "pak"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/dune_2_pak.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: dune_2_pak\n  application: Dune 2 game engine\n  file-extension: pak\n  license: CC0-1.0\n  ks-version: 0.8\n  encoding: ASCII\n  endian: le\ndoc-ref: https://moddingwiki.shikadi.net/wiki/PAK_Format_(Westwood)\nseq:\n  - id: dir\n    size: dir_size\n    type: files\ninstances:\n  dir_size:\n    pos: 0\n    type: u4\ntypes:\n  files:\n    seq:\n      - id: files\n        type: file(_index)\n        repeat: eos\n  file:\n    params:\n      - id: idx\n        type: u4\n    seq:\n      - id: ofs\n        type: u4\n      - id: file_name\n        type: strz\n        if: ofs != 0\n    instances:\n      next_ofs0:\n        value: _root.dir.files[idx + 1].ofs\n        if: ofs != 0\n      next_ofs:\n        value: 'next_ofs0 == 0 ? _root._io.size : next_ofs0'\n        if: ofs != 0\n      body:\n        io: _root._io\n        pos: ofs\n        size: next_ofs - ofs\n        if: ofs != 0\n"
  },
  {
    "id": "ksy_fallout2_dat",
    "name": "Fallout2 Dat",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "dat"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/fallout2_dat.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: fallout2_dat\n  application: Fallout 2\n  file-extension: dat\n  xref:\n    wikidata: Q32097899\n  license: CC0-1.0\n  endian: le\ntypes:\n  pstr:\n    seq:\n      - id: size\n        type: u4\n      - id: str\n        type: str\n        size: size\n        encoding: ASCII\n  footer:\n    seq:\n      - id: index_size\n        type: u4\n      - id: file_size\n        type: u4\n  index:\n    seq:\n      - id: file_count\n        type: u4\n      - id: files\n        type: file\n        repeat: expr\n        repeat-expr: file_count\n  file:\n    seq:\n      - id: name\n        type: pstr\n      - id: flags\n        type: u1\n        enum: compression\n      - id: size_unpacked\n        type: u4\n      - id: size_packed\n        type: u4\n      - id: offset\n        type: u4\n    instances:\n      contents_raw:\n        io: _root._io\n        pos: offset\n        size: size_unpacked\n        if: flags == compression::none\n      contents_zlib:\n        io: _root._io\n        pos: offset\n        size: size_packed\n        process: zlib\n        if: flags == compression::zlib\n      contents:\n        value: 'flags == compression::zlib ? contents_zlib : contents_raw'\n        if: flags == compression::zlib or flags == compression::none\ninstances:\n  footer:\n    pos: _io.size - 8\n    type: footer\n  index:\n    pos: _io.size - 8 - footer.index_size\n    type: index\nenums:\n  compression:\n    0: none\n    1: zlib\n"
  },
  {
    "id": "ksy_fallout_dat",
    "name": "Fallout Dat",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "dat"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/fallout_dat.ksy",
      "endian": "be"
    },
    "content": "meta:\n  id: fallout_dat\n  application: Fallout\n  file-extension: dat\n  xref:\n    wikidata: Q32097740\n  license: CC0-1.0\n  endian: be\nseq:\n  - id: folder_count\n    type: u4\n  - id: unknown1\n    type: u4\n  - id: unknown2\n    type: u4\n  - id: timestamp\n    type: u4\n  - id: folder_names\n    type: pstr\n    repeat: expr\n    repeat-expr: folder_count\n  - id: folders\n    type: folder\n    repeat: expr\n    repeat-expr: folder_count\ntypes:\n  pstr:\n    seq:\n      - id: size\n        type: u1\n      - id: str\n        type: str\n        size: size\n        encoding: ASCII\n  folder:\n    seq:\n      - id: file_count\n        type: u4\n      - id: unknown\n        type: u4\n      - id: flags\n        type: u4\n      - id: timestamp\n        type: u4\n      - id: files\n        type: file\n        repeat: expr\n        repeat-expr: file_count\n  file:\n    seq:\n      - id: name\n        type: pstr\n      - id: flags\n        type: u4\n        enum: compression\n      - id: offset\n        type: u4\n      - id: size_unpacked\n        type: u4\n      - id: size_packed\n        type: u4\n    instances:\n      contents:\n        io: _root._io\n        pos: offset\n        size: \"(flags == compression::none) ? size_unpacked : size_packed\"\nenums:\n  compression:\n    32: none\n    64: lzss\n"
  },
  {
    "id": "ksy_ftl_dat",
    "name": "Ftl Dat",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "dat"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/ftl_dat.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: ftl_dat\n  application: Faster Than Light (FTL)\n  file-extension: dat\n  license: CC0-1.0\n  endian: le\nseq:\n  - id: num_files\n    type: u4\n    doc: Number of files in the archive\n  - id: files\n    type: file\n    repeat: expr\n    repeat-expr: num_files\ntypes:\n  file:\n    seq:\n      - id: ofs_meta\n        type: u4\n    instances:\n      meta:\n        pos: ofs_meta\n        type: meta\n        if: ofs_meta != 0\n  meta:\n    seq:\n      - id: len_file\n        type: u4\n      - id: len_filename\n        type: u4\n      - id: filename\n        type: str\n        size: len_filename\n        encoding: UTF-8\n      - id: body\n        size: len_file\n"
  },
  {
    "id": "ksy_gran_turismo_vol",
    "name": "Gran Turismo File System (GTFS)",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "vol"
      ],
      "description": "Gran Turismo File System (GTFS)",
      "originalCategory": "game",
      "filePath": "game/gran_turismo_vol.ksy",
      "signature": {
        "offset": 0,
        "bytes": [
          null,
          0,
          0,
          0,
          0
        ]
      },
      "endian": "le"
    },
    "content": "meta:\n  id: gran_turismo_vol\n  title: Gran Turismo File System (GTFS)\n  file-extension: vol\n  xref:\n    wikidata: Q32096599\n  license: CC0-1.0\n  endian: le\nseq:\n  - id: magic\n    contents: [\"GTFS\", 0, 0, 0, 0]\n  - id: num_files\n    type: u2\n  - id: num_entries\n    type: u2\n  - id: reserved\n    contents: [0, 0, 0, 0]\n  - id: offsets\n    type: u4\n    repeat: expr\n    repeat-expr: num_files\ninstances:\n  ofs_dir:\n    value: offsets[1]\n  files:\n    pos: ofs_dir & 0xFFFFF800\n    type: file_info\n    repeat: expr\n    repeat-expr: _root.num_entries\ntypes:\n  file_info:\n    seq:\n      - id: timestamp\n        type: u4\n      - id: offset_idx\n        type: u2\n      - id: flags\n        type: u1\n      - id: name\n        type: str\n        encoding: ASCII\n        size: 25\n        pad-right: 0\n        terminator: 0\n    instances:\n      size:\n        value: '(_root.offsets[offset_idx + 1] & 0xFFFFF800) - _root.offsets[offset_idx]'\n      body:\n        pos: _root.offsets[offset_idx] & 0xFFFFF800\n        size: size\n        if: not is_dir\n      is_dir:\n        value: 'flags & 1 != 0'\n      is_last_entry:\n        value: 'flags & 0x80 != 0'\n"
  },
  {
    "id": "ksy_heaps_pak",
    "name": "Heaps Pak",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "pak"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/heaps_pak.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: heaps_pak\n  application: Games based on Haxe Game Framework \"Heaps\" (e.g. Dead Cells)\n  file-extension: pak\n  license: MIT\n  encoding: UTF-8\n  endian: le\ndoc-ref: 'https://github.com/HeapsIO/heaps/blob/2bbc2b386952dfd8856c04a854bb706a52cb4b58/hxd/fmt/pak/Reader.hx'\nseq:\n  - id: header\n    type: header\ntypes:\n  header:\n    seq:\n      - id: magic1\n        contents: 'PAK'\n      - id: version\n        type: u1\n      - id: len_header\n        type: u4\n      - id: len_data\n        type: u4\n      - id: root_entry\n        type: entry\n        size: len_header - 16\n      - id: magic2\n        contents: 'DATA'\n    types:\n      entry:\n        doc-ref: 'https://github.com/HeapsIO/heaps/blob/2bbc2b386952dfd8856c04a854bb706a52cb4b58/hxd/fmt/pak/Data.hx'\n        seq:\n          - id: len_name\n            type: u1\n          - id: name\n            type: str\n            size: len_name\n          - id: flags\n            type: flags\n          - id: body\n            type:\n              switch-on: flags.is_dir\n              cases:\n                true : dir\n                false : file\n        types:\n          flags:\n            seq:\n              - id: unused\n                type: b7\n              - id: is_dir\n                type: b1\n      file:\n        seq:\n          - id: ofs_data\n            type: u4\n          - id: len_data\n            type: u4\n          # Adler32 checksum\n          - id: checksum\n            size: 4\n        instances:\n          data:\n            io: _root._io\n            pos: _root.header.len_header + ofs_data\n            size: len_data\n      dir:\n        seq:\n          - id: num_entries\n            type: u4\n          - id: entries\n            type: entry\n            repeat: expr\n            repeat-expr: num_entries\n"
  },
  {
    "id": "ksy_heroes_of_might_and_magic_agg",
    "name": "Heroes Of Might And Magic Agg",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "agg"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/heroes_of_might_and_magic_agg.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: heroes_of_might_and_magic_agg\n  application: Heroes of Might and Magic\n  file-extension: agg\n  license: CC0-1.0\n  endian: le\ndoc-ref: https://web.archive.org/web/20170215190034/http://rewiki.regengedanken.de/wiki/.AGG_(Heroes_of_Might_and_Magic)\nseq:\n  - id: num_files\n    type: u2\n  - id: entries\n    type: entry\n    repeat: expr\n    repeat-expr: num_files\ntypes:\n  entry:\n    seq:\n      - id: hash\n        type: u2\n      - id: offset\n        type: u4\n      - id: size\n        type: u4\n      - id: size2\n        type: u4\n    instances:\n      body:\n        pos: offset\n        size: size\n  filename:\n    seq:\n      - id: str\n        type: strz\n        encoding: ASCII\ninstances:\n  filenames:\n    pos: entries.last.offset + entries.last.size\n    size: 15\n    type: filename\n    repeat: expr\n    repeat-expr: num_files\n"
  },
  {
    "id": "ksy_heroes_of_might_and_magic_bmp",
    "name": "Heroes Of Might And Magic Bmp",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "bmp"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/heroes_of_might_and_magic_bmp.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: heroes_of_might_and_magic_bmp\n  application: Heroes of Might and Magic\n  file-extension: bmp\n  license: CC0-1.0\n  endian: le\nseq:\n  - id: magic\n    type: u2\n  - id: width\n    type: u2\n  - id: height\n    type: u2\n  - id: data\n    size: 'width * height'\n"
  },
  {
    "id": "ksy_minecraft_nbt",
    "name": "Minecraft NBT (Named Binary Tag)",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "nbt",
        "dat",
        "schematic",
        "schem"
      ],
      "description": "Minecraft NBT (Named Binary Tag)",
      "originalCategory": "game",
      "filePath": "game/minecraft_nbt.ksy",
      "endian": "be"
    },
    "content": "meta:\n  id: minecraft_nbt\n  title: Minecraft NBT (Named Binary Tag)\n  application: Minecraft\n  file-extension:\n    - nbt\n    - dat\n    - schematic # https://minecraft.wiki/w/Schematic_file_format\n    - schem\n  xref:\n    justsolve: Minecraft_NBT_format\n  tags:\n    - serialization\n  license: CC0-1.0\n  encoding: utf-8\n  endian: be\ndoc: |\n  A structured binary format native to Minecraft for saving game data and transferring\n  it over the network (in multiplayer), such as player data\n  ([`<player>.dat`](https://minecraft.wiki/w/Player.dat_format); contains\n  e.g. player's inventory and location), saved worlds\n  ([`level.dat`](\n    https://minecraft.wiki/w/Java_Edition_level_format#level.dat_format\n  ) and [Chunk format](https://minecraft.wiki/w/Chunk_format#NBT_structure)),\n  list of saved multiplayer servers\n  ([`servers.dat`](https://minecraft.wiki/w/Servers.dat_format)) and so on -\n  see <https://minecraft.wiki/w/NBT_format#Uses>.\n\n  The entire file should be _gzip_-compressed (in accordance with the original\n  specification [NBT.txt](\n    https://web.archive.org/web/20110723210920/https://www.minecraft.net/docs/NBT.txt\n  ) by Notch), but can also be compressed with _zlib_ or uncompressed.\n\n  This spec can only handle uncompressed NBT data, so be sure to first detect\n  what type of data you are dealing with. You can use the Unix `file` command\n  to do this (`file-5.20` or later is required; older versions do not recognize\n  _zlib_-compressed data and return `application/octet-stream` instead):\n\n  ```shell\n  file --brief --mime-type input-unknown.nbt\n  ```\n\n  If it says:\n\n    * `application/x-gzip` or `application/gzip` (since `file-5.37`), you can decompress it by\n      * `gunzip -c input-gzip.nbt > output.nbt` or\n      * `python3 -c \"import sys, gzip; sys.stdout.buffer.write(\n        gzip.decompress(sys.stdin.buffer.read()) )\" < input-gzip.nbt > output.nbt`\n    * `application/zlib`, you can use\n      * `openssl zlib -d -in input-zlib.nbt -out output.nbt` (does not work on most systems)\n      * `python3 -c \"import sys, zlib; sys.stdout.buffer.write(\n        zlib.decompress(sys.stdin.buffer.read()) )\" < input-zlib.nbt > output.nbt`\n    * something else (especially `image/x-pcx` and `application/octet-stream`),\n      it is most likely already uncompressed.\n\n  The file `output.nbt` generated by one of the above commands can already be\n  processed with this Kaitai Struct specification.\n\n  This spec **only** implements the Java edition format. There is also\n  a [Bedrock edition](https://wiki.vg/NBT#Bedrock_edition) NBT format,\n  which uses little-endian encoding and has a few other differences, but it isn't\n  as popular as the Java edition format.\n\n  **Implementation note:** strings in `TAG_String` are incorrectly decoded with\n  standard UTF-8, while they are encoded in [**Modified UTF-8**](\n    https://docs.oracle.com/javase/8/docs/api/java/io/DataInput.html#modified-utf-8\n  ) (MUTF-8). That's because MUTF-8 is not supported natively by most target\n  languages, and thus one must use external libraries to achieve a fully-compliant\n  decoder. But decoding in standard UTF-8 is still better than nothing, and\n  it usually works fine.\n\n  All Unicode code points with incompatible representations in MUTF-8 and UTF-8 are\n  U+0000 (_NUL_), U+D800-U+DFFF (_High_ and _Low Surrogates_) and U+10000-U+10FFFF\n  (all _Supplementary_ Planes; includes e.g. emoticons, pictograms).\n  A _MUTF-8_-encoded string containing these code points cannot be successfully\n  decoded as UTF-8. The behavior in this case depends on the target language -\n  usually an exception is thrown, or the bytes that are not valid UTF-8\n  are replaced or ignored.\n\n  **Sample files:**\n\n    * <https://wiki.vg/NBT#Download>\n    * <https://github.com/twoolie/NBT/blob/f9e892e/tests/world_test/data/scoreboard.dat>\n    * <https://github.com/chmod222/cNBT/tree/3f74b69/testdata>\n    * <https://github.com/PistonDevelopers/hematite_nbt/tree/0b85f89/tests>\ndoc-ref:\n  - https://wiki.vg/NBT\n  - https://web.archive.org/web/20110723210920/https://www.minecraft.net/docs/NBT.txt\n  - https://minecraft.wiki/w/NBT_format\nseq:\n  - id: root_check\n    size: 0\n    if: root_type == tag::end and false # force evaluation of root_type's `valid` check\n    # valid:\n    #   expr: root_type == tag::compound # as of KS 0.9 does not compile for Go and Lua\n  - id: root\n    type: named_tag\ninstances:\n  root_type:\n    pos: 0\n    type: u1\n    enum: tag\n    valid: tag::compound\ntypes:\n  named_tag:\n    -webide-representation: 'TAG_{type}(\"{name.data}\"): {payload:dec}'\n    seq:\n      - id: type\n        type: u1\n        enum: tag\n      - id: name\n        type: tag_string\n        if: not is_tag_end\n      - id: payload\n        type:\n          switch-on: type\n          cases:\n            tag::byte: s1\n            tag::short: s2\n            tag::int: s4\n            tag::long: s8\n            tag::float: f4\n            tag::double: f8\n            tag::byte_array: tag_byte_array\n            tag::string: tag_string\n            tag::list: tag_list\n            tag::compound: tag_compound\n            tag::int_array: tag_int_array\n            tag::long_array: tag_long_array\n        if: not is_tag_end\n    instances:\n      is_tag_end:\n        value: type == tag::end\n  tag_byte_array:\n    -webide-representation: '{len_data:dec} bytes'\n    seq:\n      - id: len_data\n        type: s4\n      - id: data\n        size: len_data\n  tag_string:\n    -webide-representation: '{data}'\n    seq:\n      - id: len_data\n        type: u2\n        doc: unsigned according to <https://wiki.vg/NBT#Specification>\n      - id: data\n        size: len_data\n        type: str\n  tag_list:\n    -webide-representation: '{num_tags:dec} entries of type TAG_{tags_type}'\n    seq:\n      - id: tags_type\n        type: u1\n        enum: tag\n      - id: num_tags\n        type: s4\n      - id: tags\n        type:\n          switch-on: tags_type\n          cases:\n            tag::byte: s1\n            tag::short: s2\n            tag::int: s4\n            tag::long: s8\n            tag::float: f4\n            tag::double: f8\n            tag::byte_array: tag_byte_array\n            tag::string: tag_string\n            tag::list: tag_list\n            tag::compound: tag_compound\n            tag::int_array: tag_int_array\n            tag::long_array: tag_long_array\n        repeat: expr\n        repeat-expr: num_tags\n  tag_compound:\n    -webide-representation: '{dump_num_tags:dec} entries'\n    seq:\n      - id: tags\n        type: named_tag\n        repeat: until\n        repeat-until: _.is_tag_end\n    instances:\n      dump_num_tags:\n        value: 'tags.size - ((tags.size >= 1 and tags.last.is_tag_end) ? 1 : 0)'\n  tag_int_array:\n    -webide-representation: '{num_tags:dec} entries of type TAG_{tags_type}'\n    seq:\n      - id: num_tags\n        type: s4\n      - id: tags\n        type: s4\n        repeat: expr\n        repeat-expr: num_tags\n    instances:\n      tags_type:\n        value: tag::int\n  tag_long_array:\n    -webide-representation: '{num_tags:dec} entries of type TAG_{tags_type}'\n    seq:\n      - id: num_tags\n        type: s4\n      - id: tags\n        type: s8\n        repeat: expr\n        repeat-expr: num_tags\n    instances:\n      tags_type:\n        value: tag::long\nenums:\n  tag:\n    0:\n      id: end\n      -affected-by: 90\n      doc: |\n        As of KSC 0.9, this enum key causes a syntax error in Lua. See\n        <https://github.com/kaitai-io/kaitai_struct/issues/90#issuecomment-766440975>\n        for more info.\n    1: byte\n    2: short\n    3: int\n    4: long\n    5: float\n    6: double\n    7: byte_array\n    8: string\n    9: list\n    10: compound\n    11: int_array\n    12: long_array\n"
  },
  {
    "id": "ksy_quake2_md2",
    "name": "Quake II player model (version 8)",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "md2"
      ],
      "description": "Quake II player model (version 8)",
      "originalCategory": "game",
      "filePath": "game/quake2_md2.ksy",
      "signature": {
        "offset": 0,
        "bytes": [
          73,
          68,
          80,
          50
        ]
      },
      "endian": "le"
    },
    "content": "meta:\n  id: quake2_md2\n  title: Quake II player model (version 8)\n  application: Quake II\n  file-extension: md2\n  xref:\n    justsolve: MD2\n  tags:\n    - 3d\n    - game\n  license: CC0-1.0\n  endian: le\ndoc: |\n  The MD2 format is used for 3D animated models in id Sofware's Quake II.\n\n  A model consists of named `frames`, each with the same number of `vertices`\n  (`vertices_per_frame`). Each such vertex has a `position` and `normal` in\n  model space. Each vertex has the same topological \"meaning\" across frames, in\n  terms of triangle and texture info; it just varies in position and normal for\n  animation purposes.\n\n  How the vertices form triangles is defined via disjoint `triangles` or via\n  `gl_cmds` (which allows strip and fan topology). Each triangle contains three\n  `vertex_indices` into frame vertices, and three `tex_point_indices` into\n  global `tex_coords`. Each texture point has pixel coords `s_px` and `t_px`\n  ranging from 0 to `skin_{width,height}_px` respectively, along with\n  `{s,t}_normalized` ranging from 0 to 1 for your convenience.\n\n  A GL command has a `primitive` type (`TRIANGLE_FAN` or `TRIANGLE_STRIP`) along\n  with some `vertices`. Each GL vertex contains `tex_coords_normalized` from 0\n  to 1, and a `vertex_index` into frame vertices.\n\n  A model may also contain `skins`, which are just file paths to PCX images.\n  However, this is empty for many models, in which case it is up to the client\n  (e.g. Q2PRO) to offer skins some other way (e.g. by similar filename in the\n  current directory).\n\n  There are 198 `frames` in total, partitioned into a fixed set of ranges used\n  for different animations. Each frame has a standard `name` for humans, but the\n  client just uses their index and the name can be arbitrary. The name, start\n  frame index and frame count of each animation can be looked up in the arrays\n  `anim_names`, `anim_start_indices`, and `anim_num_frames` respectively. This\n  information is summarized in the following table:\n\n  ```\n  |   INDEX  |    NAME | SUFFIX | NOTES                                                  |\n  |:--------:|--------:|:-------|:-------------------------------------------------------|\n  |    0-39  |   stand | 01-40  | Idle animation                                         |\n  |   40-45  |     run | 1-6    | Full run cycle                                         |\n  |   46-53  |  attack | 1-8    | Shoot, reload; some weapons just repeat 1st few frames |\n  |   54-57  |   pain1 | 01-04  | Q2Pro also uses this for switching weapons             |\n  |   58-61  |   pain2 | 01-04  |                                                        |\n  |   62-65  |   pain3 | 01-04  |                                                        |\n  |   66-71  |    jump | 1-6    | Starts at height and lands on feet                     |\n  |   72-83  |    flip | 01-12  | Flipoff, i.e. middle finger                            |\n  |   84-94  |  salute | 01-11  |                                                        |\n  |   95-111 |   taunt | 01-17  |                                                        |\n  |  112-122 |    wave | 01-11  | Q2Pro plays this backwards for a handgrenade toss      |\n  |  123-134 |   point | 01-12  |                                                        |\n  |  135-153 |  crstnd | 01-19  | Idle while crouching                                   |\n  |  154-159 |  crwalk | 1-6    |                                                        |\n  |  160-168 | crattak | 1-9    |                                                        |\n  |  169-172 |  crpain | 1-4    |                                                        |\n  |  173-177 | crdeath | 1-5    |                                                        |\n  |  178-183 |  death1 | 01-06  |                                                        |\n  |  184-189 |  death2 | 01-06  |                                                        |\n  |  190-197 |  death3 | 01-08  |                                                        |\n  ```\n\n  The above are filled in for player models; for the separate weapon models,\n  the final frame is 173 \"g_view\" (unknown purpose) since weapons aren't shown\n  during death animations. `a_grenades.md2`, the handgrenade weapon model, is\n  the same except that the `wave` frames are blank (according to the default\n  female model files). This is likely due to its dual use as a grenade throw\n  animation where this model must leave the player's model.\ndoc-ref:\n  - https://icculus.org/~phaethon/q3a/formats/md2-schoenblum.html\n  - http://tfc.duke.free.fr/coding/md2-specs-en.html\n  - http://tastyspleen.net/~panjoo/downloads/quake2_model_frames.html\n  - http://wiki.polycount.com/wiki/OldSiteResourcesQuake2FramesList\nseq:\n  - id: magic\n    contents: IDP2\n  - id: version\n    type: u4\n    valid: 8\n  - id: skin_width_px\n    type: u4\n  - id: skin_height_px\n    type: u4\n  - id: bytes_per_frame\n    type: u4\n  - id: num_skins\n    type: u4\n  - id: vertices_per_frame\n    type: u4\n  - id: num_tex_coords\n    type: u4\n  - id: num_triangles\n    type: u4\n  - id: num_gl_cmds\n    type: u4\n  - id: num_frames\n    type: u4\n  - id: ofs_skins\n    type: u4\n  - id: ofs_tex_coords\n    type: u4\n  - id: ofs_triangles\n    type: u4\n  - id: ofs_frames\n    type: u4\n  - id: ofs_gl_cmds\n    type: u4\n  - id: ofs_eof\n    type: u4\ninstances:\n  skins:\n    pos: ofs_skins\n    size: 64\n    type: strz\n    encoding: ascii\n    repeat: expr\n    repeat-expr: num_skins\n  tex_coords:\n    pos: ofs_tex_coords\n    type: tex_point\n    repeat: expr\n    repeat-expr: num_tex_coords\n  triangles:\n    pos: ofs_triangles\n    type: triangle\n    repeat: expr\n    repeat-expr: num_triangles\n  frames:\n    pos: ofs_frames\n    size: bytes_per_frame\n    type: frame\n    repeat: expr\n    repeat-expr: num_frames\n  gl_cmds:\n    pos: ofs_gl_cmds\n    # in http://tfc.duke.free.fr/coding/src/md2.c initially read as `int *`\n    # (a pool of `int`s) => hence `s4`\n    size: 4 * num_gl_cmds # FIXME: replace `4` with `sizeof<s4>` once `sizeof` is implemented for GraphViz\n    type: gl_cmds_list\n  anim_names:\n    value: |\n      ['stand', 'run', 'attack', 'pain1', 'pain2', 'pain3', 'jump', 'flip',\n      'salute', 'taunt', 'wave', 'point', 'crstnd', 'crwalk', 'crattak',\n      'crpain', 'crdeath', 'death1', 'death2', 'death3']\n  anim_start_indices:\n    value: |\n      [0, 40, 46, 54, 58, 62, 66, 72,\n      84, 95, 112, 123, 135, 154, 160,\n      169, 173, 178, 184, 190]\n  anim_num_frames:\n    value: |\n      [40, 6, 8, 4, 4, 4, 6, 12,\n      11, 17, 11, 12, 19, 6, 9,\n      4, 5, 6, 6, 8]\n  anorms_table:\n    doc-ref: |\n      https://github.com/skullernet/q2pro/blob/f4faabd/src/common/math.c#L80\n      from Quake anorms.h\n    value: |\n      [\n        [-0.525731, 0.000000, 0.850651],\n        [-0.442863, 0.238856, 0.864188],\n        [-0.295242, 0.000000, 0.955423],\n        [-0.309017, 0.500000, 0.809017],\n        [-0.162460, 0.262866, 0.951056],\n        [0.000000, 0.000000, 1.000000],\n        [0.000000, 0.850651, 0.525731],\n        [-0.147621, 0.716567, 0.681718],\n        [0.147621, 0.716567, 0.681718],\n        [0.000000, 0.525731, 0.850651],\n        [0.309017, 0.500000, 0.809017],\n        [0.525731, 0.000000, 0.850651],\n        [0.295242, 0.000000, 0.955423],\n        [0.442863, 0.238856, 0.864188],\n        [0.162460, 0.262866, 0.951056],\n        [-0.681718, 0.147621, 0.716567],\n        [-0.809017, 0.309017, 0.500000],\n        [-0.587785, 0.425325, 0.688191],\n        [-0.850651, 0.525731, 0.000000],\n        [-0.864188, 0.442863, 0.238856],\n        [-0.716567, 0.681718, 0.147621],\n        [-0.688191, 0.587785, 0.425325],\n        [-0.500000, 0.809017, 0.309017],\n        [-0.238856, 0.864188, 0.442863],\n        [-0.425325, 0.688191, 0.587785],\n        [-0.716567, 0.681718, -0.147621],\n        [-0.500000, 0.809017, -0.309017],\n        [-0.525731, 0.850651, 0.000000],\n        [0.000000, 0.850651, -0.525731],\n        [-0.238856, 0.864188, -0.442863],\n        [0.000000, 0.955423, -0.295242],\n        [-0.262866, 0.951056, -0.162460],\n        [0.000000, 1.000000, 0.000000],\n        [0.000000, 0.955423, 0.295242],\n        [-0.262866, 0.951056, 0.162460],\n        [0.238856, 0.864188, 0.442863],\n        [0.262866, 0.951056, 0.162460],\n        [0.500000, 0.809017, 0.309017],\n        [0.238856, 0.864188, -0.442863],\n        [0.262866, 0.951056, -0.162460],\n        [0.500000, 0.809017, -0.309017],\n        [0.850651, 0.525731, 0.000000],\n        [0.716567, 0.681718, 0.147621],\n        [0.716567, 0.681718, -0.147621],\n        [0.525731, 0.850651, 0.000000],\n        [0.425325, 0.688191, 0.587785],\n        [0.864188, 0.442863, 0.238856],\n        [0.688191, 0.587785, 0.425325],\n        [0.809017, 0.309017, 0.500000],\n        [0.681718, 0.147621, 0.716567],\n        [0.587785, 0.425325, 0.688191],\n        [0.955423, 0.295242, 0.000000],\n        [1.000000, 0.000000, 0.000000],\n        [0.951056, 0.162460, 0.262866],\n        [0.850651, -0.525731, 0.000000],\n        [0.955423, -0.295242, 0.000000],\n        [0.864188, -0.442863, 0.238856],\n        [0.951056, -0.162460, 0.262866],\n        [0.809017, -0.309017, 0.500000],\n        [0.681718, -0.147621, 0.716567],\n        [0.850651, 0.000000, 0.525731],\n        [0.864188, 0.442863, -0.238856],\n        [0.809017, 0.309017, -0.500000],\n        [0.951056, 0.162460, -0.262866],\n        [0.525731, 0.000000, -0.850651],\n        [0.681718, 0.147621, -0.716567],\n        [0.681718, -0.147621, -0.716567],\n        [0.850651, 0.000000, -0.525731],\n        [0.809017, -0.309017, -0.500000],\n        [0.864188, -0.442863, -0.238856],\n        [0.951056, -0.162460, -0.262866],\n        [0.147621, 0.716567, -0.681718],\n        [0.309017, 0.500000, -0.809017],\n        [0.425325, 0.688191, -0.587785],\n        [0.442863, 0.238856, -0.864188],\n        [0.587785, 0.425325, -0.688191],\n        [0.688191, 0.587785, -0.425325],\n        [-0.147621, 0.716567, -0.681718],\n        [-0.309017, 0.500000, -0.809017],\n        [0.000000, 0.525731, -0.850651],\n        [-0.525731, 0.000000, -0.850651],\n        [-0.442863, 0.238856, -0.864188],\n        [-0.295242, 0.000000, -0.955423],\n        [-0.162460, 0.262866, -0.951056],\n        [0.000000, 0.000000, -1.000000],\n        [0.295242, 0.000000, -0.955423],\n        [0.162460, 0.262866, -0.951056],\n        [-0.442863, -0.238856, -0.864188],\n        [-0.309017, -0.500000, -0.809017],\n        [-0.162460, -0.262866, -0.951056],\n        [0.000000, -0.850651, -0.525731],\n        [-0.147621, -0.716567, -0.681718],\n        [0.147621, -0.716567, -0.681718],\n        [0.000000, -0.525731, -0.850651],\n        [0.309017, -0.500000, -0.809017],\n        [0.442863, -0.238856, -0.864188],\n        [0.162460, -0.262866, -0.951056],\n        [0.238856, -0.864188, -0.442863],\n        [0.500000, -0.809017, -0.309017],\n        [0.425325, -0.688191, -0.587785],\n        [0.716567, -0.681718, -0.147621],\n        [0.688191, -0.587785, -0.425325],\n        [0.587785, -0.425325, -0.688191],\n        [0.000000, -0.955423, -0.295242],\n        [0.000000, -1.000000, 0.000000],\n        [0.262866, -0.951056, -0.162460],\n        [0.000000, -0.850651, 0.525731],\n        [0.000000, -0.955423, 0.295242],\n        [0.238856, -0.864188, 0.442863],\n        [0.262866, -0.951056, 0.162460],\n        [0.500000, -0.809017, 0.309017],\n        [0.716567, -0.681718, 0.147621],\n        [0.525731, -0.850651, 0.000000],\n        [-0.238856, -0.864188, -0.442863],\n        [-0.500000, -0.809017, -0.309017],\n        [-0.262866, -0.951056, -0.162460],\n        [-0.850651, -0.525731, 0.000000],\n        [-0.716567, -0.681718, -0.147621],\n        [-0.716567, -0.681718, 0.147621],\n        [-0.525731, -0.850651, 0.000000],\n        [-0.500000, -0.809017, 0.309017],\n        [-0.238856, -0.864188, 0.442863],\n        [-0.262866, -0.951056, 0.162460],\n        [-0.864188, -0.442863, 0.238856],\n        [-0.809017, -0.309017, 0.500000],\n        [-0.688191, -0.587785, 0.425325],\n        [-0.681718, -0.147621, 0.716567],\n        [-0.442863, -0.238856, 0.864188],\n        [-0.587785, -0.425325, 0.688191],\n        [-0.309017, -0.500000, 0.809017],\n        [-0.147621, -0.716567, 0.681718],\n        [-0.425325, -0.688191, 0.587785],\n        [-0.162460, -0.262866, 0.951056],\n        [0.442863, -0.238856, 0.864188],\n        [0.162460, -0.262866, 0.951056],\n        [0.309017, -0.500000, 0.809017],\n        [0.147621, -0.716567, 0.681718],\n        [0.000000, -0.525731, 0.850651],\n        [0.425325, -0.688191, 0.587785],\n        [0.587785, -0.425325, 0.688191],\n        [0.688191, -0.587785, 0.425325],\n        [-0.955423, 0.295242, 0.000000],\n        [-0.951056, 0.162460, 0.262866],\n        [-1.000000, 0.000000, 0.000000],\n        [-0.850651, 0.000000, 0.525731],\n        [-0.955423, -0.295242, 0.000000],\n        [-0.951056, -0.162460, 0.262866],\n        [-0.864188, 0.442863, -0.238856],\n        [-0.951056, 0.162460, -0.262866],\n        [-0.809017, 0.309017, -0.500000],\n        [-0.864188, -0.442863, -0.238856],\n        [-0.951056, -0.162460, -0.262866],\n        [-0.809017, -0.309017, -0.500000],\n        [-0.681718, 0.147621, -0.716567],\n        [-0.681718, -0.147621, -0.716567],\n        [-0.850651, 0.000000, -0.525731],\n        [-0.688191, 0.587785, -0.425325],\n        [-0.587785, 0.425325, -0.688191],\n        [-0.425325, 0.688191, -0.587785],\n        [-0.425325, -0.688191, -0.587785],\n        [-0.587785, -0.425325, -0.688191],\n        [-0.688191, -0.587785, -0.425325],\n      ]\ntypes:\n  tex_point:\n    seq:\n      - id: s_px\n        type: u2\n      - id: t_px\n        type: u2\n    instances:\n      s_normalized:\n        value: (s_px + 0.0) / _root.skin_width_px\n      t_normalized:\n        value: (t_px + 0.0) / _root.skin_height_px\n  triangle:\n    seq:\n      - id: vertex_indices\n        type: u2\n        repeat: expr\n        repeat-expr: 3\n        doc: indices to `_root.frames[i].vertices` (for each frame with index `i`)\n      - id: tex_point_indices\n        type: u2\n        repeat: expr\n        repeat-expr: 3\n        doc: indices to `_root.tex_coords`\n  vec3f:\n    seq:\n      - id: x\n        type: f4\n      - id: y\n        type: f4\n      - id: z\n        type: f4\n  compressed_vec:\n    seq:\n      - id: x_compressed\n        type: u1\n      - id: y_compressed\n        type: u1\n      - id: z_compressed\n        type: u1\n    instances:\n      x:\n        value: x_compressed * _parent._parent.scale.x + _parent._parent.translate.x\n      y:\n        value: y_compressed * _parent._parent.scale.y + _parent._parent.translate.y\n      z:\n        value: z_compressed * _parent._parent.scale.z + _parent._parent.translate.z\n  vertex:\n    seq:\n      - id: position\n        type: compressed_vec\n      - id: normal_index\n        type: u1\n    instances:\n      normal:\n        value: _root.anorms_table[normal_index]\n  frame:\n    seq:\n      - id: scale\n        type: vec3f\n      - id: translate\n        type: vec3f\n      - id: name\n        size: 16\n        type: strz\n        encoding: ascii\n      - id: vertices\n        type: vertex\n        repeat: expr\n        repeat-expr: _root.vertices_per_frame\n  gl_cmds_list:\n    seq:\n      - id: items\n        type: gl_cmd\n        repeat: until\n        repeat-until: _.cmd_num_vertices == 0\n        if: not _io.eof\n  gl_cmd:\n    seq:\n      - id: cmd_num_vertices\n        type: s4\n      - id: vertices\n        type: gl_vertex\n        repeat: expr\n        repeat-expr: num_vertices\n    instances:\n      num_vertices:\n        value: 'cmd_num_vertices < 0 ? -cmd_num_vertices : cmd_num_vertices'\n      primitive:\n        value: 'cmd_num_vertices < 0 ? gl_primitive::triangle_fan : gl_primitive::triangle_strip'\n  gl_vertex:\n    seq:\n      - id: tex_coords_normalized\n        type: f4\n        repeat: expr\n        repeat-expr: 2\n      - id: vertex_index\n        type: u4\n        doc: index to `_root.frames[i].vertices` (for each frame with index `i`)\nenums:\n  gl_primitive:\n    0: triangle_strip\n    1: triangle_fan\n"
  },
  {
    "id": "ksy_quake_mdl",
    "name": "Quake 1 (idtech2) model format (MDL version 6)",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "mdl"
      ],
      "description": "Quake 1 (idtech2) model format (MDL version 6)",
      "originalCategory": "game",
      "filePath": "game/quake_mdl.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: quake_mdl\n  title: Quake 1 (idtech2) model format (MDL version 6)\n  application: Quake 1 (idtech2)\n  file-extension: mdl\n  tags:\n    - 3d\n    - game\n  license: CC0-1.0\n  ks-version: '0.10'\n  endian: le\ndoc: |\n  Quake 1 model format is used to store 3D models completely with\n  textures and animations used in the game. Quake 1 engine\n  (retroactively named \"idtech2\") is a popular 3D engine first used\n  for Quake game by id Software in 1996.\n\n  Model is constructed traditionally from vertices in 3D space, faces\n  which connect vertices, textures (\"skins\", i.e. 2D bitmaps) and\n  texture UV mapping information. As opposed to more modern,\n  bones-based animation formats, Quake model was animated by changing\n  locations of all vertices it included in 3D space, frame by frame.\n\n  File format stores:\n\n  * \"Skins\"  effectively 2D bitmaps which will be used as a\n    texture. Every model can have multiple skins  e.g. these can be\n    switched to depict various levels of damage to the\n    monsters. Bitmaps are 8-bit-per-pixel, indexed in global Quake\n    palette, subject to lighting and gamma adjustment when rendering\n    in the game using colormap technique.\n  * \"Texture coordinates\"  UV coordinates, mapping 3D vertices to\n    skin coordinates.\n  * \"Triangles\"  triangular faces connecting 3D vertices.\n  * \"Frames\"  locations of vertices in 3D space; can include more\n    than one frame, thus allowing representation of different frames\n    for animation purposes.\n\n  Originally, 3D geometry for models for Quake was designed in [Alias\n  PowerAnimator](https://en.wikipedia.org/wiki/PowerAnimator),\n  precursor of modern day Autodesk Maya and Autodesk Alias. Therefore,\n  3D-related part of Quake model format followed closely Alias TRI\n  format, and Quake development utilities included a converter from Alias\n  TRI (`modelgen`).\n\n  Skins (textures) where prepared as LBM bitmaps with the help from\n  `texmap` utility in the same development utilities toolkit.\nseq:\n  - id: header\n    type: mdl_header\n  - id: skins\n    type: mdl_skin\n    repeat: expr\n    repeat-expr: header.num_skins\n  - id: texture_coordinates\n    type: mdl_texcoord\n    repeat: expr\n    repeat-expr: header.num_verts\n  - id: triangles\n    type: mdl_triangle\n    repeat: expr\n    repeat-expr: header.num_tris\n  - id: frames\n    type: mdl_frame\n    repeat: expr\n    repeat-expr: header.num_frames\ntypes:\n  vec3:\n    -orig-id: vec3_t\n    doc: |\n      Basic 3D vector (x, y, z) using single-precision floating point\n      coordnates. Can be used to specify a point in 3D space,\n      direction, scaling factor, etc.\n    seq:\n      - id: x\n        type: f4\n      - id: y\n        type: f4\n      - id: z\n        type: f4\n  mdl_header:\n    -orig-id: mdl_t\n    doc-ref:\n      - 'https://github.com/id-Software/Quake/blob/0023db327bc1db00068284b70e1db45857aeee35/WinQuake/modelgen.h#L59-L75'\n      - 'https://www.gamers.org/dEngine/quake/spec/quake-spec34/qkspec_5.htm#MD0'\n    seq:\n      - id: ident\n        contents: 'IDPO'\n        doc: |\n          Magic signature bytes that every Quake model must\n          have. \"IDPO\" is short for \"IDPOLYHEADER\".\n        doc-ref: 'https://github.com/id-Software/Quake/blob/0023db327bc1db00068284b70e1db45857aeee35/WinQuake/modelgen.h#L132-L133'\n      - id: version\n        type: s4\n        valid:\n          eq: 6\n      - id: scale\n        type: vec3\n        doc: |\n          Global scaling factors in 3 dimensions for whole model. When\n          represented in 3D world, this model local coordinates will\n          be multiplied by these factors.\n      - id: origin\n        type: vec3\n      - id: radius\n        type: f4\n      - id: eye_position\n        type: vec3\n      - id: num_skins\n        type: s4\n        doc: |\n          Number of skins (=texture bitmaps) included in this model.\n      - id: skin_width\n        type: s4\n        doc: |\n          Width (U coordinate max) of every skin (=texture) in pixels.\n      - id: skin_height\n        type: s4\n        doc: |\n          Height (V coordinate max) of every skin (=texture) in\n          pixels.\n      - id: num_verts\n        type: s4\n        doc: |\n          Number of vertices in this model. Note that this is constant\n          for all the animation frames and all textures.\n      - id: num_tris\n        type: s4\n        doc: |\n          Number of triangles (=triangular faces) in this model.\n      - id: num_frames\n        type: s4\n        doc: |\n          Number of animation frames included in this model.\n      - id: synctype\n        type: s4\n      - id: flags\n        type: s4\n      - id: size\n        type: f4\n    instances:\n      skin_size:\n        value: skin_width * skin_height\n        doc: |\n          Skin size in pixels.\n  mdl_skin:\n    seq:\n      - id: group\n        type: s4\n      - id: single_texture_data\n        size: _root.header.skin_size\n        if: group == 0\n      - id: num_frames\n        type: u4\n        if: group != 0\n      - id: frame_times\n        type: f4\n        repeat: expr\n        repeat-expr: num_frames\n        if: group != 0\n      - id: group_texture_data\n        size: _root.header.skin_size\n        repeat: expr\n        repeat-expr: num_frames\n        if: group != 0\n  mdl_texcoord:\n    -orig-id: stvert_t\n    doc-ref:\n      - 'https://github.com/id-Software/Quake/blob/0023db327bc1db00068284b70e1db45857aeee35/WinQuake/modelgen.h#L79-L83'\n      - 'https://www.gamers.org/dEngine/quake/spec/quake-spec34/qkspec_5.htm#MD2'\n    seq:\n      - id: on_seam\n        type: s4\n      - id: s\n        type: s4\n      - id: t\n        type: s4\n  mdl_triangle:\n    -orig-id: dtriangle_t\n    doc: |\n      Represents a triangular face, connecting 3 vertices, referenced\n      by their indexes.\n    doc-ref:\n      - 'https://github.com/id-Software/Quake/blob/0023db327bc1db00068284b70e1db45857aeee35/WinQuake/modelgen.h#L85-L88'\n      - 'https://www.gamers.org/dEngine/quake/spec/quake-spec34/qkspec_5.htm#MD3'\n    seq:\n      - id: faces_front\n        type: s4\n      - id: vertices\n        type: s4\n        repeat: expr\n        repeat-expr: 3\n  mdl_vertex:\n    seq:\n      - id: values\n        type: u1\n        repeat: expr\n        repeat-expr: 3\n      - id: normal_index\n        type: u1\n  mdl_simple_frame:\n    seq:\n      - id: bbox_min\n        type: mdl_vertex\n      - id: bbox_max\n        type: mdl_vertex\n      - id: name\n        type: str\n        size: 16\n        encoding: ASCII\n        terminator: 0x00\n        pad-right: 0x00\n      - id: vertices\n        type: mdl_vertex\n        repeat: expr\n        repeat-expr: _root.header.num_verts\n  mdl_frame:\n    seq:\n      - id: type\n        type: s4\n      - id: min\n        type: mdl_vertex\n        if: type != 0\n      - id: max\n        type: mdl_vertex\n        if: type != 0\n      - id: time\n        type: f4\n        repeat: expr\n        repeat-expr: type\n        if: type != 0\n      - id: frames\n        type: mdl_simple_frame\n        repeat: expr\n        repeat-expr: num_simple_frames\n    instances:\n      num_simple_frames:\n        value: '(type == 0 ? 1 : type)'\n"
  },
  {
    "id": "ksy_quake_pak",
    "name": "Quake Pak",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "pak"
      ],
      "description": "",
      "originalCategory": "game",
      "filePath": "game/quake_pak.ksy",
      "signature": {
        "offset": 0,
        "bytes": [
          80,
          65,
          67,
          75
        ]
      },
      "endian": "le"
    },
    "content": "meta:\n  id: quake_pak\n  application: Quake game engine\n  file-extension: pak\n  xref:\n    justsolve: Quake_PAK\n    wikidata: Q105854676\n  license: CC0-1.0\n  endian: le\ndoc-ref: 'https://quakewiki.org/wiki/.pak#Format_specification'\nseq:\n  - id: magic\n    contents: 'PACK'\n  - id: ofs_index\n    type: u4\n  - id: len_index\n    type: u4\ninstances:\n  index:\n    pos: ofs_index\n    size: len_index\n    type: index_struct\ntypes:\n  index_struct:\n    seq:\n      - id: entries\n        type: index_entry\n        repeat: eos\n  index_entry:\n    seq:\n      - id: name\n        type: str\n        size: 56\n        encoding: UTF-8\n        terminator: 0\n        pad-right: 0\n      - id: ofs\n        type: u4\n      - id: size\n        type: u4\n    instances:\n      body:\n        io: _root._io\n        pos: ofs\n        size: size\n"
  },
  {
    "id": "ksy_renderware_binary_stream",
    "name": "RenderWare binary stream",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "dff",
        "txd"
      ],
      "description": "RenderWare binary stream",
      "originalCategory": "game",
      "filePath": "game/renderware_binary_stream.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: renderware_binary_stream\n  title: RenderWare binary stream\n  application: Games based on RenderWare engine (Grand Theft Auto 3D series)\n  file-extension:\n    - dff\n    - txd\n  xref:\n    justsolve: RenderWare_binary_stream_file\n    wikidata: Q29960668\n  endian: le\n  bit-endian: le\ndoc-ref: https://gtamods.com/wiki/RenderWare_binary_stream_file\nseq:\n  - id: code\n    type: u4\n    enum: sections\n  - id: size\n    type: u4\n  - id: library_id_stamp\n    type: u4\n  - id: body\n    size: size\n    type:\n      switch-on: code\n      cases:\n        sections::clump: list_with_header\n        sections::frame_list: list_with_header\n        sections::geometry: list_with_header\n        sections::geometry_list: list_with_header\n        sections::texture_dictionary: list_with_header\n        sections::texture_native: list_with_header\n        sections::atomic: list_with_header\ninstances:\n  version:\n    value: 'library_id_stamp & 0xFFFF0000 != 0 ? (library_id_stamp >> 14 & 0x3FF00) + 0x30000 | (library_id_stamp >> 16 & 0x3F) : library_id_stamp << 8'\ntypes:\n  list_with_header:\n    doc: |\n      Typical structure used by many data types in RenderWare binary\n      stream. Substream contains a list of binary stream entries,\n      first entry always has type \"struct\" and carries some specific\n      binary data it in, determined by the type of parent. All other\n      entries, beside the first one, are normal, self-describing\n      records.\n    seq:\n      - id: code\n        contents: [1, 0, 0, 0]\n      - id: header_size\n        type: u4\n      - id: library_id_stamp\n        type: u4\n      - id: header\n        size: header_size\n        type:\n          switch-on: _parent.code\n          cases:\n            sections::clump: struct_clump\n            sections::frame_list: struct_frame_list\n            sections::geometry: struct_geometry\n            sections::geometry_list: struct_geometry_list\n            sections::texture_dictionary: struct_texture_dictionary\n            sections::atomic: struct_atomic\n      - id: entries\n        type: renderware_binary_stream\n        repeat: eos\n    instances:\n      version:\n        value: 'library_id_stamp & 0xFFFF0000 != 0 ? (library_id_stamp >> 14 & 0x3FF00) + 0x30000 | (library_id_stamp >> 16 & 0x3F) : library_id_stamp << 8'\n  struct_atomic:\n    doc-ref: https://gtamods.com/wiki/Atomic_(RW_Section)#Structure\n    seq:\n      - id: frame_index\n        type: u4\n      - id: geometry_index\n        type: u4\n      - id: flag_render\n        type: b1\n      - type: b1\n      - id: flag_collision_test\n        type: b1\n      - type: b29\n      - id: unused\n        type: u4\n  struct_texture_dictionary:\n    seq:\n      - id: num_textures\n        type: u4\n  struct_clump:\n    doc-ref: https://gtamods.com/wiki/RpClump\n    seq:\n      - id: num_atomics\n        type: u4\n      - id: num_lights\n        type: u4\n        if: _parent.version >= 0x33000\n      - id: num_cameras\n        type: u4\n        if: _parent.version >= 0x33000\n  struct_frame_list:\n    doc-ref: 'https://gtamods.com/wiki/Frame_List_(RW_Section)#Structure'\n    seq:\n      - id: num_frames\n        type: u4\n      - id: frames\n        type: frame\n        repeat: expr\n        repeat-expr: num_frames\n  frame:\n    doc-ref: 'https://gtamods.com/wiki/Frame_List_(RW_Section)#Structure'\n    seq:\n      - id: rotation_matrix\n        type: matrix\n      - id: position\n        type: vector_3d\n      - id: cur_frame_idx\n        type: s4\n      - id: matrix_creation_flags\n        type: u4\n  matrix:\n    doc-ref: 'https://gtamods.com/wiki/Frame_List_(RW_Section)#Structure'\n    seq:\n      - id: entries\n        type: vector_3d\n        repeat: expr\n        repeat-expr: 3\n  vector_3d:\n    doc-ref: 'https://gtamods.com/wiki/Frame_List_(RW_Section)#Structure'\n    seq:\n      - id: x\n        type: f4\n      - id: y\n        type: f4\n      - id: z\n        type: f4\n  struct_geometry_list:\n    doc-ref: 'https://gtamods.com/wiki/Geometry_List_(RW_Section)#Structure'\n    seq:\n      - id: num_geometries\n        type: u4\n  struct_geometry:\n    doc-ref: https://gtamods.com/wiki/RpGeometry\n    seq:\n      - id: format\n        type: u4\n      - id: num_triangles\n        type: u4\n      - id: num_vertices\n        type: u4\n      - id: num_morph_targets\n        type: u4\n      - id: surf_prop\n        type: surface_properties\n        if: _parent.version < 0x34000\n      - id: geometry\n        type: geometry_non_native\n        if: not is_native\n      - id: morph_targets\n        type: morph_target\n        repeat: expr\n        repeat-expr: num_morph_targets\n    instances:\n      is_textured:\n        value: format & 0x0000_0004 != 0\n      is_prelit:\n        value: format & 0x0000_0008 != 0\n      is_textured2:\n        value: format & 0x0000_0080 != 0\n      is_native:\n        value: format & 0x0100_0000 != 0\n      num_uv_layers_raw:\n        value: (format & 0x00ff_0000) >> 16\n      num_uv_layers:\n        value: |\n          num_uv_layers_raw == 0\n            ? is_textured2\n              ? 2\n              : is_textured\n                ? 1\n                : 0\n            : num_uv_layers_raw\n  surface_properties:\n    doc-ref: https://gtamods.com/wiki/RpGeometry\n    seq:\n      - id: ambient\n        type: f4\n      - id: specular\n        type: f4\n      - id: diffuse\n        type: f4\n  geometry_non_native:\n    seq:\n      - id: prelit_colors\n        type: rgba\n        repeat: expr\n        repeat-expr: _parent.num_vertices\n        if: _parent.is_prelit\n      - id: uv_layers\n        type: uv_layer(_parent.num_vertices)\n        repeat: expr\n        repeat-expr: _parent.num_uv_layers\n      - id: triangles\n        type: triangle\n        repeat: expr\n        repeat-expr: _parent.num_triangles\n  uv_layer:\n    params:\n      - id: num_vertices\n        type: u4\n    seq:\n      - id: tex_coords\n        type: tex_coord\n        repeat: expr\n        repeat-expr: num_vertices\n  rgba:\n    seq:\n      - id: r\n        type: u1\n      - id: g\n        type: u1\n      - id: b\n        type: u1\n      - id: a\n        type: u1\n  tex_coord:\n    seq:\n      - id: u\n        type: f4\n      - id: v\n        type: f4\n  triangle:\n    seq:\n      - id: vertex2\n        type: u2\n      - id: vertex1\n        type: u2\n      - id: material_id\n        type: u2\n      - id: vertex3\n        type: u2\n  morph_target:\n    seq:\n      - id: bounding_sphere\n        type: sphere\n      - id: has_vertices\n        type: u4\n      - id: has_normals\n        type: u4\n      - id: vertices\n        repeat: expr\n        repeat-expr: _parent.num_vertices\n        type: vector_3d\n        if: has_vertices != 0\n      - id: normals\n        repeat: expr\n        repeat-expr: _parent.num_vertices\n        type: vector_3d\n        if: has_normals != 0\n  sphere:\n    seq:\n      - id: x\n        type: f4\n      - id: y\n        type: f4\n      - id: z\n        type: f4\n      - id: radius\n        type: f4\nenums:\n  sections:\n    0x0001: struct\n    0x0002: string\n    0x0003: extension\n    0x0005: camera\n    0x0006: texture\n    0x0007: material\n    0x0008: material_list\n    0x0009: atomic_section\n    0x000a: plane_section\n    0x000b: world\n    0x000c: spline\n    0x000d: matrix\n    0x000e: frame_list\n    0x000f: geometry\n    0x0010: clump\n    0x0012: light\n    0x0013: unicode_string\n    0x0014: atomic\n    0x0015: texture_native\n    0x0016: texture_dictionary\n    0x0017: animation_database\n    0x0018: image\n    0x0019: skin_animation\n    0x001a: geometry_list\n    0x001b: anim_animation\n    0x001c: team\n    0x001d: crowd\n    0x001e: delta_morph_animation\n    0x001f: right_to_render\n    0x0020: multitexture_effect_native\n    0x0021: multitexture_effect_dictionary\n    0x0022: team_dictionary\n    0x0023: platform_independent_texture_dictionary\n    0x0024: table_of_contents\n    0x0025: particle_standard_global_data\n    0x0026: altpipe\n    0x0027: platform_independent_peds\n    0x0028: patch_mesh\n    0x0029: chunk_group_start\n    0x002a: chunk_group_end\n    0x002b: uv_animation_dictionary\n    0x002c: coll_tree\n    0x0101: metrics_plg\n    0x0102: spline_plg\n    0x0103: stereo_plg\n    0x0104: vrml_plg\n    0x0105: morph_plg\n    0x0106: pvs_plg\n    0x0107: memory_leak_plg\n    0x0108: animation_plg\n    0x0109: gloss_plg\n    0x010a: logo_plg\n    0x010b: memory_info_plg\n    0x010c: random_plg\n    0x010d: png_image_plg\n    0x010e: bone_plg\n    0x010f: vrml_anim_plg\n    0x0110: sky_mipmap_val\n    0x0111: mrm_plg\n    0x0112: lod_atomic_plg\n    0x0113: me_plg\n    0x0114: lightmap_plg\n    0x0115: refine_plg\n    0x0116: skin_plg\n    0x0117: label_plg\n    0x0118: particles_plg\n    0x0119: geomtx_plg\n    0x011a: synth_core_plg\n    0x011b: stqpp_plg\n    0x011c: part_pp_plg\n    0x011d: collision_plg\n    0x011e: hanim_plg\n    0x011f: user_data_plg\n    0x0120: material_effects_plg\n    0x0121: particle_system_plg\n    0x0122: delta_morph_plg\n    0x0123: patch_plg\n    0x0124: team_plg\n    0x0125: crowd_pp_plg\n    0x0126: mip_split_plg\n    0x0127: anisotropy_plg\n    0x0129: gcn_material_plg\n    0x012a: geometric_pvs_plg\n    0x012b: xbox_material_plg\n    0x012c: multi_texture_plg\n    0x012d: chain_plg\n    0x012e: toon_plg\n    0x012f: ptank_plg\n    0x0130: particle_standard_plg\n    0x0131: pds_plg\n    0x0132: prtadv_plg\n    0x0133: normal_map_plg\n    0x0134: adc_plg\n    0x0135: uv_animation_plg\n    0x0180: character_set_plg\n    0x0181: nohs_world_plg\n    0x0182: import_util_plg\n    0x0183: slerp_plg\n    0x0184: optim_plg\n    0x0185: tl_world_plg\n    0x0186: database_plg\n    0x0187: raytrace_plg\n    0x0188: ray_plg\n    0x0189: library_plg\n    0x0190: plg_2d # 2D PLG\n    0x0191: tile_render_plg\n    0x0192: jpeg_image_plg\n    0x0193: tga_image_plg\n    0x0194: gif_image_plg\n    0x0195: quat_plg\n    0x0196: spline_pvs_plg\n    0x0197: mipmap_plg\n    0x0198: mipmapk_plg\n    0x0199: font_2d # 2D Font\n    0x019a: intersection_plg\n    0x019b: tiff_image_plg\n    0x019c: pick_plg\n    0x019d: bmp_image_plg\n    0x019e: ras_image_plg\n    0x019f: skin_fx_plg\n    0x01a0: vcat_plg\n    0x01a1: path_2d\n    0x01a2: brush_2d\n    0x01a3: object_2d\n    0x01a4: shape_2d\n    0x01a5: scene_2d\n    0x01a6: pick_region_2d\n    0x01a7: object_string_2d\n    0x01a8: animation_plg_2d\n    0x01a9: animation_2d\n    0x01b0: keyframe_2d\n    0x01b1: maestro_2d\n    0x01b2: barycentric\n    0x01b3: platform_independent_texture_dictionary_tk\n    0x01b4: toc_tk\n    0x01b5: tpl_tk\n    0x01b6: altpipe_tk\n    0x01b7: animation_tk\n    0x01b8: skin_split_tookit\n    0x01b9: compressed_key_tk\n    0x01ba: geometry_conditioning_plg\n    0x01bb: wing_plg\n    0x01bc: generic_pipeline_tk\n    0x01bd: lightmap_conversion_tk\n    0x01be: filesystem_plg\n    0x01bf: dictionary_tk\n    0x01c0: uv_animation_linear\n    0x01c1: uv_animation_parameter\n    0x0253_f200: atomic_visibility_distance\n    0x0253_f201: clump_visibility_distance\n    0x0253_f202: frame_visibility_distance\n    0x0253_f2f3: pipeline_set\n    0x0253_f2f4: unused_5\n    0x0253_f2f5: texdictionary_link\n    0x0253_f2f6: specular_material\n    0x0253_f2f7: unused_8\n    0x0253_f2f8: effect_2d\n    0x0253_f2f9: extra_vert_colour\n    0x0253_f2fa: collision_model\n    0x0253_f2fb: gta_hanim\n    0x0253_f2fc: reflection_material\n    0x0253_f2fd: breakable\n    0x0253_f2fe: frame\n    0x0253_f2ff: unused_16\n    0x050e: bin_mesh_plg\n    0x0510: native_data_plg\n    0xf21e: zmodeler_lock\n"
  },
  {
    "id": "ksy_saints_row_2_vpp_pc",
    "name": "Saints Rows 2 game packages",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "vpp_pc"
      ],
      "description": "Saints Rows 2 game packages",
      "originalCategory": "game",
      "filePath": "game/saints_row_2_vpp_pc.ksy",
      "signature": {
        "offset": 0,
        "bytes": [
          206,
          10,
          137,
          81,
          4
        ]
      },
      "endian": "le"
    },
    "content": "meta:\n  id: saints_row_2_vpp_pc\n  title: Saints Rows 2 game packages\n  file-extension: vpp_pc\n  license: MIT\n  encoding: UTF-8\n  endian: le\nseq:\n  - id: magic\n    contents: [0xce, 0x0a, 0x89, 0x51, 0x04]\n  - id: pad1\n    size: 0x14f\n  - id: num_files\n    type: s4\n  - id: container_size\n    type: s4\n  - id: len_offsets\n    type: s4\n  - id: len_filenames\n    type: s4\n  - id: len_extensions\n    type: s4\n  - id: smth5\n    type: s4\n  - id: smth6\n    type: s4\n  - id: smth7\n    type: s4\n  - id: smth8\n    type: s4\n  - id: smth9\n    type: s4\ninstances:\n  files:\n    pos: 0x800\n    size: len_offsets\n    type: offsets\n  ofs_filenames:\n    value: ((0x800 + len_offsets) & 0xfffff800) + 0x800\n  filenames:\n    pos: ofs_filenames\n    size: len_filenames\n    type: strings\n  ofs_extensions:\n    value: ((ofs_filenames + len_filenames) & 0xfffff800) + 0x800\n  extensions:\n    pos: ofs_extensions\n    size: len_extensions\n    type: strings\n  data_start:\n    value: ((ofs_extensions + len_extensions) & 0xfffff800) + 0x800\ntypes:\n  offsets:\n    seq:\n      - id: entries\n        type: offset\n        repeat: eos\n    types:\n      offset:\n        seq:\n          - id: name_ofs\n            type: u4\n          - id: ext_ofs\n            type: u4\n          - id: smth2\n            type: s4\n          - id: ofs_body\n            type: s4\n          - id: len_body\n            type: s4\n          - id: always_minus_1\n            type: s4\n          - id: always_zero\n            type: s4\n        instances:\n          filename:\n            io: _root.filenames._io\n            pos: name_ofs\n            type: strz\n          ext:\n            io: _root.extensions._io\n            pos: ext_ofs\n            type: strz\n          body:\n            io: _root._io\n            pos: _root.data_start + ofs_body\n            size: len_body\n  strings:\n    seq:\n      - id: entries\n        type: strz\n        repeat: eos\n"
  },
  {
    "id": "ksy_warcraft_2_pud",
    "name": "Warcraft II map files",
    "category": "Games",
    "metadata": {
      "isGenerated": true,
      "fileExtensions": [
        "pud"
      ],
      "description": "Warcraft II map files",
      "originalCategory": "game",
      "filePath": "game/warcraft_2_pud.ksy",
      "endian": "le"
    },
    "content": "meta:\n  id: warcraft_2_pud\n  title: Warcraft II map files\n  application: Warcraft II engine\n  file-extension: pud\n  xref:\n    justsolve: Warcraft_II_PUD\n    wikidata: Q28009492\n  license: CC0-1.0\n  ks-version: 0.6\n  endian: le\ndoc: |\n  Warcraft II game engine uses this format for map files. External\n  maps can be edited by official Warcraft II map editor and saved in\n  .pud files. Maps supplied with the game (i.e. single player\n  campaign) follow the same format, but are instead embedded inside\n  the game container files.\n\n  There are two major versions: 0x11 (original one) and 0x13 (roughly\n  corresponds to v1.33 of the game engine, although some of the\n  features got limited support in v1.3).\n\n  File consists of a sequence of typed sections.\ndoc-ref: http://cade.datamax.bg/war2x/pudspec.html\nseq:\n  - id: sections\n    type: section\n    repeat: eos\ntypes:\n  section:\n    seq:\n      - id: name\n        type: str\n        size: 4\n        encoding: ASCII\n      - id: size\n        type: u4\n      - id: body\n        size: size\n        type:\n          switch-on: name\n          cases:\n            '\"TYPE\"': section_type\n            '\"VER \"': section_ver\n            #'\"DESC\"': section_desc\n            '\"OWNR\"': section_ownr\n            '\"ERA \"': section_era\n            '\"ERAX\"': section_era\n            '\"DIM \"': section_dim\n            '\"SGLD\"': section_starting_resource\n            '\"SLBR\"': section_starting_resource\n            '\"SOIL\"': section_starting_resource\n            '\"UNIT\"': section_unit\n  section_type:\n    doc: |\n      Section that confirms that this file is a \"map file\" by certain\n      magic string and supplies a tag that could be used in\n      multiplayer to check that all player use the same version of the\n      map.\n    seq:\n      - id: magic\n        contents: [\"WAR2 MAP\", 0, 0]\n      - id: unused\n        size: 2\n        doc: unused (always set to $0a and $ff by editor, but can be anything for the game)\n      - id: id_tag\n        type: u4\n        doc: id tag (for consistency check in multiplayer)\n  section_ver:\n    doc: Section that specifies format version.\n    seq:\n      - id: version\n        type: u2\n  section_ownr:\n    doc: Section that specifies who controls each player.\n    seq:\n      - id: controller_by_player\n        type: u1\n        enum: controller\n        repeat: eos\n  section_era:\n    doc: Section that specifies terrain type for this map.\n    seq:\n      - id: terrain\n        type: u2\n        enum: terrain_type\n  section_dim:\n    seq:\n      - id: x\n        type: u2\n      - id: y\n        type: u2\n  section_starting_resource:\n    seq:\n      - id: resources_by_player\n        type: u2\n        repeat: eos\n  section_unit:\n    seq:\n      - id: units\n        type: unit\n        repeat: eos\n  unit:\n    seq:\n      - id: x\n        type: u2\n      - id: y\n        type: u2\n      - id: u_type\n        type: u1\n        enum: unit_type\n      - id: owner\n        type: u1\n      - id: options\n        type: u2\n        doc: if gold mine or oil well, contains 2500 * this, otherwise 0 passive 1 active\n    instances:\n      resource:\n        value: options * 2500\n        if: >\n          u_type == unit_type::gold_mine or\n          u_type == unit_type::human_oil_well or\n          u_type == unit_type::orc_oil_well or\n          u_type == unit_type::oil_patch\nenums:\n  controller:\n    # official values\n    0x02: passive_computer\n    0x03: nobody\n    0x04: computer4\n    0x05: human\n    0x06: rescue_passive\n    0x07: rescue_active\n    # also supported by game engine\n    0x01: computer1\n    # everything else is \"passive_computer\"\n  terrain_type:\n    0x00: forest\n    0x01: winter\n    0x02: wasteland\n    0x03: swamp\n  unit_type:\n    0x00: infantry\n    0x01: grunt\n    0x02: peasant\n    0x03: peon\n    0x04: ballista\n    0x05: catapult\n    0x06: knight\n    0x07: ogre\n    0x08: archer\n    0x09: axethrower\n    0x0a: mage\n    0x0b: death_knight\n    0x0c: paladin\n    0x0d: ogre_mage\n    0x0e: dwarves\n    0x0f: goblin_sapper\n    0x10: attack_peasant\n    0x11: attack_peon\n    0x12: ranger\n    0x13: berserker\n    0x14: alleria\n    0x15: teron_gorefiend\n    0x16: kurdan_and_sky_ree\n    0x17: dentarg\n    0x18: khadgar\n    0x19: grom_hellscream\n    0x1a: human_tanker\n    0x1b: orc_tanker\n    0x1c: human_transport\n    0x1d: orc_transport\n    0x1e: elven_destroyer\n    0x1f: troll_destroyer\n    0x20: battleship\n    0x21: juggernaught\n    0x23: deathwing\n    0x26: gnomish_submarine\n    0x27: giant_turtle\n    0x28: gnomish_flying_machine\n    0x29: goblin_zepplin\n    0x2a: gryphon_rider\n    0x2b: dragon\n    0x2c: turalyon\n    0x2d: eye_of_kilrogg\n    0x2e: danath\n    0x2f: khorgath_bladefist\n    0x31: cho_gall\n    0x32: lothar\n    0x33: gul_dan\n    0x34: uther_lightbringer\n    0x35: zuljin\n    0x37: skeleton\n    0x38: daemon\n    0x39: critter\n    0x3a: farm\n    0x3b: pig_farm\n    0x3c: human_barracks\n    0x3d: orc_barracks\n    0x3e: church\n    0x3f: altar_of_storms\n    0x40: human_scout_tower\n    0x41: orc_scout_tower\n    0x42: stables\n    0x43: ogre_mound\n    0x44: gnomish_inventor\n    0x45: goblin_alchemist\n    0x46: gryphon_aviary\n    0x47: dragon_roost\n    0x48: human_shipyard\n    0x49: orc_shipyard\n    0x4a: town_hall\n    0x4b: great_hall\n    0x4c: elven_lumber_mill\n    0x4d: troll_lumber_mill\n    0x4e: human_foundry\n    0x4f: orc_foundry\n    0x50: mage_tower\n    0x51: temple_of_the_damned\n    0x52: human_blacksmith\n    0x53: orc_blacksmith\n    0x54: human_refinery\n    0x55: orc_refinery\n    0x56: human_oil_well\n    0x57: orc_oil_well\n    0x58: keep\n    0x59: stronghold\n    0x5a: castle\n    0x5b: fortress\n    0x5c: gold_mine\n    0x5d: oil_patch\n    0x5e: human_start\n    0x5f: orc_start\n    0x60: human_guard_tower\n    0x61: orc_guard_tower\n    0x62: human_cannon_tower\n    0x63: orc_cannon_tower\n    0x64: circle_of_power\n    0x65: dark_portal\n    0x66: runestone\n    0x67: human_wall\n    0x68: orc_wall\n"
  }
];

export default {
  category: "Games",
  formats: gamesFormats
};
